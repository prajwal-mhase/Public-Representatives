<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Public Representatives Dashboard</title>

  <!-- MOBILE VIEWPORT -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0" />

  <link rel="stylesheet" href="style.css" />
</head>
<body>

<!-- HEADER -->
<header class="header">
  <h1>ğŸ› Public Representatives</h1>
  <button class="manage-btn" onclick="openModal()">Manage</button>
</header>

<!-- MAIN CONTAINER -->
<div class="container">

  <!-- SUMMARY CARDS -->
  <div class="stats">
    <div class="stat-card">
      <h3>Total Representatives</h3>
      <p id="totalReps">0</p>
    </div>
    <div class="stat-card">
      <h3>Total Localities</h3>
      <p id="totalLocalities">0</p>
    </div>
    <div class="stat-card">
      <h3>MLAs</h3>
      <p id="totalMLA">0</p>
    </div>
    <div class="stat-card">
      <h3>MPs</h3>
      <p id="totalMP">0</p>
    </div>
  </div>

  <!-- DASHBOARD CARD -->
  <div class="card">

    <!-- CARD HEADER -->
    <div class="card-header">
      <h2>Representatives by Locality</h2>
      <button onclick="loadDashboard()">Refresh</button>
    </div>

    <!-- FILTER BAR -->
    <div class="filter-bar">

      <!-- SEARCH -->
      <input
        type="text"
        id="searchLocality"
        placeholder="Search by locality..."
        oninput="applyFilters()"
      />

      <!-- SIMPLE DROPDOWN MULTISELECT -->
      <details class="simple-dropdown">
        <summary>Filter by Designation</summary>

        <div class="dropdown-list">
          <label><input type="checkbox" value="MP" onchange="applyFilters()"> Member of Parliament (MP)</label>
          <label><input type="checkbox" value="MLA" onchange="applyFilters()"> Member of Legislative Assembly (MLA)</label>
          <label><input type="checkbox" value="Mayor" onchange="applyFilters()"> Mayor</label>
          <label><input type="checkbox" value="Nagar Sevak" onchange="applyFilters()"> Nagar Sevak</label>
          <label><input type="checkbox" value="Sarpanch" onchange="applyFilters()"> Sarpanch</label>
          <label><input type="checkbox" value="Up-Sarpanch" onchange="applyFilters()"> Up-Sarpanch</label>
          <label><input type="checkbox" value="Gram Panchayat Member" onchange="applyFilters()"> Gram Panchayat Member</label>
          <label><input type="checkbox" value="Panchayat Samiti Member" onchange="applyFilters()"> Panchayat Samiti Member</label>
          <label><input type="checkbox" value="Zila Parishad Member" onchange="applyFilters()"> Zila Parishad Member</label>
        </div>
      </details>

    </div>

    <!-- DASHBOARD GRID -->
    <div id="dashboard" class="dashboard-grid"></div>

  </div>
</div>

<!-- MANAGE MODAL -->
<div id="modal" class="modal">
  <div class="modal-content">

    <span class="close" onclick="closeModal()">&times;</span>

    <h2>Manage Representatives</h2>

    <!-- ACTION SELECTOR -->
    <div class="manage-actions">
      <button onclick="showForm('add')">â• Add</button>
      <button onclick="showForm('edit')">âœï¸ Edit</button>
      <button class="danger" onclick="showForm('delete')">ğŸ—‘ï¸ Delete</button>
    </div>

    <!-- ADD FORM -->
    <div id="addForm" class="manage-form hidden">
      <h3>Add Representative</h3>

      <input id="locality" placeholder="Locality" />
      <input id="name" placeholder="Full Name" />

      <select id="designation">
        <option value="">Select Designation</option>
        <option value="MP">MP</option>
        <option value="MLA">MLA</option>
        <option value="Mayor">Mayor</option>
        <option value="Nagar Sevak">Nagar Sevak</option>
        <option value="Sarpanch">Sarpanch</option>
        <option value="Up-Sarpanch">Up-Sarpanch</option>
        <option value="Gram Panchayat Member">Gram Panchayat Member</option>
        <option value="Panchayat Samiti Member">Panchayat Samiti Member</option>
        <option value="Zila Parishad Member">Zila Parishad Member</option>
      </select>

      <input id="phone" placeholder="Phone" />
      <input id="email" placeholder="Email" />

      <button onclick="addRepresentative()">Add</button>
      <div id="addMsg"></div>
    </div>

<div id="editForm" class="manage-form hidden">
  <h3>Edit Representative</h3>

  <input
    id="editSearch"
    placeholder="Search by name..."
    oninput="showEditSuggestions()"
  />
  <div id="editSuggestions" class="suggestions"></div>

  <input id="editLocality" placeholder="Locality" disabled />
  <input id="editName" placeholder="Full Name" />

  <select id="editDesignation">
    <option value="">Select Designation</option>
    <option>MP</option>
    <option>MLA</option>
    <option>Mayor</option>
    <option>Nagar Sevak</option>
    <option>Sarpanch</option>
    <option>Up-Sarpanch</option>
    <option>Gram Panchayat Member</option>
    <option>Panchayat Samiti Member</option>
    <option>Zila Parishad Member</option>
  </select>

  <input id="editPhone" placeholder="Phone (optional)" />
  <input id="editEmail" placeholder="Email (optional)" />

  <button onclick="updateRepresentative()">Save Changes</button>
  <div id="editMsg"></div>
</div>


<div id="deleteForm" class="manage-form hidden">
  <h3>Delete Representative</h3>

  <input
    id="deleteSearch"
    placeholder="Search by name..."
    oninput="showDeleteSuggestions()"
  />
  <div id="deleteSuggestions" class="suggestions"></div>

  <button class="danger" onclick="deleteRepresentative()">Delete</button>
  <div id="deleteMsg"></div>
</div>


  </div>
</div>


<script src="script.js"></script>

</body>
</html>
